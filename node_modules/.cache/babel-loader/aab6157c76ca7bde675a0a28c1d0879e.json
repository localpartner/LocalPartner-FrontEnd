{"ast":null,"code":"import _slicedToArray from \"C:\\\\localpartner-Repo\\\\LocalPartner-FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\localpartner-Repo\\\\LocalPartner-FrontEnd\\\\src\\\\core\\\\FetchAddresses.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { isAuthenticated } from \"../common/utils\";\nimport { getAddressMobile, deleteAddress } from \"./apiCore\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport { useRecoilState } from \"recoil\";\nimport { setManageAddress } from \"../recoil/atom/setManageAddress\";\nimport { data } from \"jquery\";\nimport { useHistory } from \"react-router-dom\";\nvar FetchAddress = function FetchAddress() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  var _isAuthenticated = isAuthenticated(),\n    user = _isAuthenticated.user,\n    token = _isAuthenticated.token;\n  var history = useHistory();\n  console.log(userInfo.addresses);\n  var listOfUserInfo = function listOfUserInfo() {\n    getAddressMobile().then(function (res) {\n      console.log(res.data, \"responsedata\");\n      setUserInfo(res.data);\n      // console.log(res.data._id,\"jfsdkhf\")\n    });\n  };\n\n  useEffect(function () {\n    listOfUserInfo();\n  }, []);\n  // getcustomeraddress(user._id, token).then(res => {\n  //     if (res.error) {\n  //         console.log(res.error);\n  //     } else {\n  //         setUserInfo(res);\n  //     }\n  // });\n\n  var removeAddress = function removeAddress(number) {\n    // console.log(index, \"checking for index\");\n    // console.log(\"hello\");\n    deleteAddress(number).then(function (data) {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        listOfUserInfo();\n      }\n    });\n  };\n  var update = function update(event) {\n    console.log(event.target.id);\n    localStorage.setItem('id', event.target.id);\n    history.push(\"/user/updateaddress\");\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart \",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }\n  }, userInfo.map(function (item, index) {\n    console.log(index);\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card my-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"card-body\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      class: \"card-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      style: {\n        background: \"#f0f2f5\",\n        padding: \"4px 8px\",\n        width: \"67px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 23\n      }\n    }, item.nickname), /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 25\n      }\n    }, item.fname, \" \", item.mobile)), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"card-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 23\n      }\n    }, item.address, \", \", item.city, \", \", item.state, \" - \", /*#__PURE__*/React.createElement(\"b\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 88\n      }\n    }, item.pincode)), /*#__PURE__*/React.createElement(\"p\", {\n      class: \"card-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 23\n      }\n    }, item.email)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mr-2 border rounded-circle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      id: item._id,\n      onClick: update,\n      class: \"fa fa-pencil\",\n      \"aria-hidden\": \"true\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 29\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"border rounded-circle \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn \",\n      onClick: function onClick() {\n        removeAddress(item.mobile);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      class: \"fa fa-trash  alert-danger\",\n      \"aria-hidden\": \"true\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 27\n      }\n    }))))))));\n  })));\n};\nexport default FetchAddress;","map":{"version":3,"names":["React","useState","useEffect","Link","isAuthenticated","getAddressMobile","deleteAddress","BsThreeDotsVertical","useRecoilState","setManageAddress","data","useHistory","FetchAddress","_useState","_useState2","_slicedToArray","userInfo","setUserInfo","_isAuthenticated","user","token","history","console","log","addresses","listOfUserInfo","then","res","removeAddress","number","error","update","event","target","id","localStorage","setItem","push","createElement","Fragment","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","map","item","index","class","style","background","padding","width","nickname","fname","mobile","address","city","state","pincode","email","_id","onClick"],"sources":["C:/localpartner-Repo/LocalPartner-FrontEnd/src/core/FetchAddresses.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { isAuthenticated } from \"../common/utils\";\nimport { getAddressMobile, deleteAddress } from \"./apiCore\";\nimport { BsThreeDotsVertical } from \"react-icons/bs\";\nimport { useRecoilState } from \"recoil\";\nimport { setManageAddress } from \"../recoil/atom/setManageAddress\";\nimport { data } from \"jquery\";\nimport { useHistory  } from \"react-router-dom\"\n\n\nconst FetchAddress = () => {\n  const [userInfo, setUserInfo] = useState([]);\n  const { user, token } = isAuthenticated();\n  const history = useHistory();\n  console.log(userInfo.addresses);\n  const listOfUserInfo = () => {\n    getAddressMobile().then((res) => {\n      console.log(res.data, \"responsedata\")\n      setUserInfo(res.data);\n      // console.log(res.data._id,\"jfsdkhf\")\n     \n    });\n  };\n\n  useEffect(() => {\n    listOfUserInfo();\n  }, []);\n  // getcustomeraddress(user._id, token).then(res => {\n  //     if (res.error) {\n  //         console.log(res.error);\n  //     } else {\n  //         setUserInfo(res);\n  //     }\n  // });\n\n  const removeAddress = (number) => {\n    // console.log(index, \"checking for index\");\n    // console.log(\"hello\");\n    deleteAddress(number).then((data) => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        listOfUserInfo();\n      }\n    });\n  };\n\n  const update = (event) =>{\n    console.log(event.target.id)\n    localStorage.setItem('id',event.target.id )\n    history.push(\"/user/updateaddress\")\n    }\n\n\n \n\n  return (\n    <>\n      <div className=\"cart \">\n        {userInfo.map((item, index) => {\n          console.log(index);\n          return (\n            <>\n              <div class=\"card my-2\">\n                <div class=\"card-body\">\n                  <div className=\"d-flex justify-content-between align-items-center\">\n                    <div>\n                      <p class=\"card-text\">\n                      <p style={{ background: \"#f0f2f5\", padding: \"4px 8px\" , width:\"67px\"}}>{item.nickname}</p>\n                        <b>{item.fname} {item.mobile}</b>\n                      </p>\n                      <p class=\"card-text\">{item.address}, {item.city}, {item.state} - <b>{item.pincode}</b></p>\n                      <p class=\"card-text\">{item.email}</p>\n                      {/* {item.addresses.length != 0 ? (\n                        <>{item.addresses.addressLine1}</>\n                      ) : null} */}\n                      {/* {item.addresses.length != 0 ? (\n                        <>\n                          {item.addresses.map((item) => {\n                            return (\n                              <>\n                                <p>\n                                  {item.addressLine1} {item.addressLine2}\n                                </p>\n                                <p>{item.city}</p>\n                                <p>{item.pincode}</p>\n                                <p>{item.state}</p>\n                                {item.addressType !== undefined ? (\n                                  <>\n                                    {\" \"}\n                                    {item.addressType == \"Home\" ? (\n                                      <>\n                                    \n                                        <div className=\"mt-2\">\n                                          <span className=\" backgroundcolor p-2\">\n                                            Home\n                                          </span>\n                                        </div>\n                                      </>\n                                    ) : (\n                                      <>\n                                        <div className=\"mt-2\">\n                                          <span className=\" backgroundcolor p-2\">\n                                            Office\n                                          </span>\n                                        </div>{\" \"}\n                                    \n                                      </>\n                                    )}\n                                  </>\n                                ) : null}\n                              </>\n                            );\n                          })}\n                        </>\n                      ) : null} */}\n            \n                    </div>\n                    <div className=\"d-flex\">\n                      <div className=\"mr-2 border rounded-circle\">\n                        {/* <Link to={`/user/updateaddress/${item.mobile}`}> */}\n                          <button className=\"btn \">\n                            <i  id={item._id} onClick = {update} class=\"fa fa-pencil\" aria-hidden=\"true\"></i>\n                          </button>\n                        {/* </Link> */}\n                      </div>\n                      <div className=\"border rounded-circle \">\n                        <button\n                          className=\"btn \"\n                          onClick={() => {\n                            removeAddress(item.mobile);\n                          }}\n                        >\n                          <i\n                            class=\"fa fa-trash  alert-danger\"\n                            aria-hidden=\"true\"\n                          ></i>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default FetchAddress;\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}
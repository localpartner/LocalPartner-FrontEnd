{"ast":null,"code":"import _slicedToArray from \"C:\\\\localpartner-Repo\\\\LocalPartner-FrontEnd\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\localpartner-Repo\\\\LocalPartner-FrontEnd\\\\src\\\\core\\\\Card.js\";\nimport React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport ShowImage from './ShowImage';\nimport moment from 'moment';\nimport { addItem, updateItem, removeItem } from './cartHelpers';\nvar Card = function Card(_ref) {\n  var product = _ref.product,\n    _ref$showViewProductB = _ref.showViewProductButton,\n    showViewProductButton = _ref$showViewProductB === void 0 ? true : _ref$showViewProductB,\n    _ref$showAddToCartBut = _ref.showAddToCartButton,\n    showAddToCartButton = _ref$showAddToCartBut === void 0 ? true : _ref$showAddToCartBut,\n    _ref$cartUpdate = _ref.cartUpdate,\n    cartUpdate = _ref$cartUpdate === void 0 ? false : _ref$cartUpdate,\n    _ref$showRemoveProduc = _ref.showRemoveProductButton,\n    showRemoveProductButton = _ref$showRemoveProduc === void 0 ? false : _ref$showRemoveProduc,\n    _ref$setRun = _ref.setRun,\n    setRun = _ref$setRun === void 0 ? function (f) {\n      return f;\n    } : _ref$setRun,\n    _ref$run = _ref.run,\n    run = _ref$run === void 0 ? undefined : _ref$run;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    redirect = _useState2[0],\n    setRedirect = _useState2[1];\n  var _useState3 = useState(product && product.count),\n    _useState4 = _slicedToArray(_useState3, 2),\n    count = _useState4[0],\n    setCount = _useState4[1];\n  var showViewButton = function showViewButton(showViewProductButton) {\n    return showViewProductButton && /*#__PURE__*/React.createElement(Link, {\n      to: \"/product/\".concat(product._id),\n      className: \"mr-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-outline-primary mt-2 mb-2 card-btn-1\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }\n    }, \"View Product\"));\n  };\n  var addToCart = function addToCart() {\n    // console.log('added');\n    addItem(product, setRedirect(true));\n  };\n  var shouldRedirect = function shouldRedirect(redirect) {\n    if (redirect) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/mycart\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n  var showAddToCartBtn = function showAddToCartBtn(showAddToCartButton) {\n    return showAddToCartButton && /*#__PURE__*/React.createElement(\"button\", {\n      onClick: addToCart,\n      className: \"btn btn-outline-warning mt-2 mb-2 card-btn-1  \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, \"Add to cart\");\n  };\n  var showStock = function showStock(quantity) {\n    return quantity > 0 ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 7\n      }\n    }, \"In Stock \") : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"badge badge-primary badge-pill\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }\n    }, \"Out of Stock \");\n  };\n  var handleChange = function handleChange(productId) {\n    return function (event) {\n      setRun(!run); // run useEffect in parent Cart\n      setCount(event.target.value < 1 ? 1 : event.target.value);\n      if (event.target.value >= 1) {\n        updateItem(productId, event.target.value);\n      }\n    };\n  };\n  var showCartUpdateOptions = function showCartUpdateOptions(cartUpdate) {\n    return cartUpdate && /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group mb-3\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-group-prepend\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"input-group-text\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 15\n      }\n    }, \"Adjust Quantity\")), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      className: \"form-control\",\n      value: count,\n      onChange: handleChange(product._id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    })));\n  };\n  var showRemoveButton = function showRemoveButton(showRemoveProductButton) {\n    return showRemoveProductButton && /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        removeItem(product._id);\n        setRun(!run); // run useEffect in parent Cart\n      },\n\n      className: \"btn btn-outline-danger mt-2 mb-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, \"Remove Product\");\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null);\n};\nexport default Card;","map":{"version":3,"names":["React","useState","Link","Redirect","ShowImage","moment","addItem","updateItem","removeItem","Card","_ref","product","_ref$showViewProductB","showViewProductButton","_ref$showAddToCartBut","showAddToCartButton","_ref$cartUpdate","cartUpdate","_ref$showRemoveProduc","showRemoveProductButton","_ref$setRun","setRun","f","_ref$run","run","undefined","_useState","_useState2","_slicedToArray","redirect","setRedirect","_useState3","count","_useState4","setCount","showViewButton","createElement","to","concat","_id","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","addToCart","shouldRedirect","showAddToCartBtn","onClick","showStock","quantity","handleChange","productId","event","target","value","showCartUpdateOptions","type","onChange","showRemoveButton","Fragment"],"sources":["C:/localpartner-Repo/LocalPartner-FrontEnd/src/core/Card.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport ShowImage from './ShowImage';\nimport moment from 'moment';\nimport { addItem, updateItem, removeItem } from './cartHelpers';\n\nconst Card = ({\n  product,\n  showViewProductButton = true,\n  showAddToCartButton = true,\n  cartUpdate = false,\n  showRemoveProductButton = false,\n  setRun = f => f,\n  run = undefined\n  // changeCartSize\n}) => {\n  const [redirect, setRedirect] = useState(false);\n  const [count, setCount] = useState( product && product.count);\n\n  const showViewButton = showViewProductButton => {\n    return (\n      showViewProductButton && (\n        <Link to={`/product/${product._id}`} className=\"mr-2\">\n          <button className=\"btn btn-outline-primary mt-2 mb-2 card-btn-1\">View Product</button>\n        </Link>\n      )\n    );\n  };\n  const addToCart = () => {\n    // console.log('added');\n    addItem(product, setRedirect(true));\n  };\n\n  const shouldRedirect = redirect => {\n    if (redirect) {\n      return <Redirect to=\"/mycart\" />;\n    }\n  };\n\n  const showAddToCartBtn = showAddToCartButton => {\n    return (\n      showAddToCartButton && (\n        <button onClick={addToCart} className=\"btn btn-outline-warning mt-2 mb-2 card-btn-1  \">\n          Add to cart\n        </button>\n      )\n    );\n  };\n\n  const showStock = quantity => {\n    return quantity > 0 ? (\n      <span className=\"badge badge-primary badge-pill\">In Stock </span>\n    ) : (\n      <span className=\"badge badge-primary badge-pill\">Out of Stock </span>\n    );\n  };\n\n  const handleChange = productId => event => {\n    setRun(!run); // run useEffect in parent Cart\n    setCount(event.target.value < 1 ? 1 : event.target.value);\n    if (event.target.value >= 1) {\n      updateItem(productId, event.target.value);\n    }\n  };\n\n  const showCartUpdateOptions = cartUpdate => {\n    return (\n      cartUpdate && (\n        <div>\n          <div className=\"input-group mb-3\">\n            <div className=\"input-group-prepend\">\n              <span className=\"input-group-text\">Adjust Quantity</span>\n            </div>\n            <input type=\"number\" className=\"form-control\" value={count} onChange={handleChange(product._id)} />\n          </div>\n        </div>\n      )\n    );\n  };\n  const showRemoveButton = showRemoveProductButton => {\n    return (\n      showRemoveProductButton && (\n        <button\n          onClick={() => {\n            removeItem(product._id);\n            setRun(!run); // run useEffect in parent Cart\n          }}\n          className=\"btn btn-outline-danger mt-2 mb-2\"\n        >\n          Remove Product\n        </button>\n      )\n    );\n  };\n  return (\n    <>\n    {/* <div className=\"card \"> */}\n      {/* <div className=\"card-header card-header-1 \">{product.name}</div> */}\n      {/* <div className=\"card-body\"> */}\n        {/* {shouldRedirect(redirect)} */}\n        {/* <ShowImage item={product} url=\"product\" /> */}\n        {/* <p className=\"card-p  mt-2\">{product.description.substring(0, 100)} </p> */}\n        {/* <p className=\"card-p black-10\">$ {product.price}</p> */}\n        {/* <p className=\"black-9\">Category: {product.category && product.category.name}</p> */}\n        {/* <p className=\"black-8\">Added on {moment(product.createdAt).fromNow()}</p> */}\n        {/* {showStock(product.quantity)} */}\n        {/* <br /> */}\n\n        {/* {showViewButton(showViewProductButton)} */}\n\n        {/* {showAddToCartBtn(showAddToCartButton)} */}\n\n        {/* {showRemoveButton(showRemoveProductButton)} */}\n\n        {/* {showCartUpdateOptions(cartUpdate)} */}\n      {/* </div> */}\n    {/* // </div> */}\n    </>\n  );\n};\n\nexport default Card;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
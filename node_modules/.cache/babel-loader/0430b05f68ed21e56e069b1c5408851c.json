{"ast":null,"code":"import { API, API_BASE } from '../config';\nexport var signup = function signup(user) {\n  return fetch(\"\".concat(API, \"/signup\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (err) {\n    console.log(err);\n  });\n};\nexport var signin = function signin(user) {\n  return fetch(\"\".concat(API, \"/signin\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (err) {\n    console.log(err);\n  });\n};\nexport var signout = function signout(next) {\n  if (typeof window !== 'undefined') {\n    localStorage.removeItem('jwt');\n    next();\n    return fetch(\"\".concat(API, \"/signout\"), {\n      method: 'GET'\n    }).then(function (response) {\n      console.log('signout', response);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n};\nexport var getToken = function getToken(data) {\n  var basicAuth = Buffer.from(\"FE_WEB\" + \":\" + \"secret\").toString('base64');\n  var requestObj = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      'Authorization': 'Basic ' + basicAuth\n    },\n    body: new URLSearchParams({\n      'username': data.mobileNo,\n      'password': data.otp,\n      'grant_type': 'password'\n    })\n  };\n  return fetch(\"\".concat(API_BASE, \"/oauth/token\"), requestObj).then(function (responce) {\n    return responce.json();\n  }).catch(function (error) {\n    return console.log(\"Error :\", error);\n  });\n};\nexport var otpVerification = function otpVerification(data) {\n  return fetch(\"\".concat(API, \"/otpVerification\"), {\n    method: \"POST\",\n    headers: {\n      Accept: 'application/json',\n      'content-Type': 'application/json'\n    },\n    body: JSON.stringify(data)\n  }).then(function (responce) {\n    return responce.json();\n  }).catch(function (error) {\n    return console.log(\"Error :\", error);\n  });\n};\nexport var getResendOTP = function getResendOTP(user) {\n  return fetch(\"\".concat(API, \"/getResendOTP\"), {\n    method: 'POST',\n    headers: {\n      Accept: 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  }).then(function (response) {\n    return response.json();\n  }).catch(function (err) {\n    console.log(err);\n  });\n};","map":{"version":3,"names":["API","API_BASE","signup","user","fetch","concat","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","signin","signout","next","window","localStorage","removeItem","getToken","data","basicAuth","Buffer","from","toString","requestObj","URLSearchParams","mobileNo","otp","responce","error","otpVerification","getResendOTP"],"sources":["C:/localpartner-Repo/LocalPartner-FrontEnd/src/auth/Cutomer.js"],"sourcesContent":["import { API,API_BASE} from '../config';\n\nexport const signup = user => {\n    return fetch(`${API}/signup`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const signin = user => {\n    return fetch(`${API}/signin`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};\n\nexport const signout = next => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('jwt');\n        next();\n        return fetch(`${API}/signout`, {\n            method: 'GET'\n        })\n            .then(response => {\n                console.log('signout', response);\n            })\n            .catch(err => console.log(err));\n    }\n};\n\nexport const getToken = (data)=>{\n    const basicAuth = Buffer.from(\"FE_WEB\" + \":\" + \"secret\").toString('base64');\n    \n    const requestObj =  {\n        method: 'POST',\n        headers:{\n          'Content-Type': 'application/x-www-form-urlencoded',\n          'Authorization': 'Basic ' + basicAuth\n        },    \n        body: new URLSearchParams({\n            'username': data.mobileNo,\n            'password': data.otp,\n            'grant_type': 'password'\n            \n        })\n    };\n\n    return fetch(`${API_BASE}/oauth/token`,requestObj).then(responce => {\n        return responce.json();\n    }).catch(error => \n        console.log(\"Error :\" ,error));\n\n    \n}\n\nexport const otpVerification = data =>{\n    return fetch(`${API}/otpVerification`,{\n        method : \"POST\",\n        headers : {\n            Accept : 'application/json',\n            'content-Type' : 'application/json'\n        },\n        body: JSON.stringify(data)\n    }).then(responce => {\n        return responce.json();\n    }).catch(error => \n        console.log(\"Error :\" ,error));\n}\n\nexport const getResendOTP = user => {\n    return fetch(`${API}/getResendOTP`, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(user)\n    })\n        .then(response => {\n            return response.json();\n        })\n        .catch(err => {\n            console.log(err);\n        });\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}